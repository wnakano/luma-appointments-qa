---
config:
  flowchart:
    curve: linear
---
graph TD;
	__start__([<p>__start__</p>]):::first
	CONVERSATION_MANAGER(CONVERSATION_MANAGER)
	QA_ANSWER(QA_ANSWER<hr/><small><em>__interrupt = after</em></small>)
	VERIFICATION_GATE(VERIFICATION_GATE)
	VERIFICATION_PATIENT(VERIFICATION_PATIENT)
	VERIFICATION_APPOINTMENT(VERIFICATION_APPOINTMENT)
	CLARIFICATION(CLARIFICATION<hr/><small><em>__interrupt = after</em></small>)
	ACTION_ROUTER(ACTION_ROUTER)
	LIST_APPOINTMENTS(LIST_APPOINTMENTS)
	ASK_CONFIRMATION(ASK_CONFIRMATION<hr/><small><em>__interrupt = after</em></small>)
	PROCESS_CONFIRMATION(PROCESS_CONFIRMATION)
	ACTION_RESPONSE(ACTION_RESPONSE<hr/><small><em>__interrupt = after</em></small>)
	ACTION_RESPONSE --> CONVERSATION_MANAGER;
	ACTION_ROUTER -. &nbsp;INTENT_CANCEL&nbsp; .-> ASK_CONFIRMATION;
	ACTION_ROUTER -. &nbsp;INTENT_WAIT&nbsp; .-> CLARIFICATION;
	ACTION_ROUTER -. &nbsp;INTENT_LIST&nbsp; .-> LIST_APPOINTMENTS;
	ASK_CONFIRMATION --> PROCESS_CONFIRMATION;
	CLARIFICATION --> CONVERSATION_MANAGER;
	CONVERSATION_MANAGER -. &nbsp;ACTION_QA&nbsp; .-> QA_ANSWER;
	CONVERSATION_MANAGER -. &nbsp;ACTION_APPOINTMENT&nbsp; .-> VERIFICATION_GATE;
	LIST_APPOINTMENTS --> ACTION_RESPONSE;
	PROCESS_CONFIRMATION -. &nbsp;ACTION_REJECTED&nbsp; .-> ACTION_RESPONSE;
	PROCESS_CONFIRMATION -. &nbsp;ACTION_UNCLEAR&nbsp; .-> ASK_CONFIRMATION;
	QA_ANSWER --> CONVERSATION_MANAGER;
	VERIFICATION_APPOINTMENT -. &nbsp;VERIFIED&nbsp; .-> ACTION_ROUTER;
	VERIFICATION_APPOINTMENT -. &nbsp;NOT_VERIFIED&nbsp; .-> CLARIFICATION;
	VERIFICATION_GATE -. &nbsp;VERIFIED&nbsp; .-> ACTION_ROUTER;
	VERIFICATION_GATE -. &nbsp;APPOINTMENT_VERIFICATION&nbsp; .-> VERIFICATION_APPOINTMENT;
	VERIFICATION_GATE -. &nbsp;USER_VERIFICATION&nbsp; .-> VERIFICATION_PATIENT;
	VERIFICATION_PATIENT -. &nbsp;NOT_VERIFIED&nbsp; .-> CLARIFICATION;
	VERIFICATION_PATIENT -. &nbsp;VERIFIED&nbsp; .-> VERIFICATION_APPOINTMENT;
	__start__ --> CONVERSATION_MANAGER;
	classDef default fill:#f2f0ff,line-height:1.2
	classDef first fill-opacity:0
	classDef last fill:#bfb6fc
